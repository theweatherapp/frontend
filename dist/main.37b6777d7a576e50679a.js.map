{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/index.js","webpack:///./src/data/disk.js","webpack:///./src/data/utils.js","webpack:///./src/data/Service.js","webpack:///./src/data/weather.js","webpack:///./src/components/core/Search/Search.jsx","webpack:///./src/components/core/Time/Time.jsx","webpack:///./src/components/core/Icon/Icon.jsx","webpack:///./src/components/core/UserLocation/GeoLocation.js","webpack:///./src/components/core/UserLocation/UserLocation.jsx","webpack:///./src/components/core/FavouritesManager/AFavouritesManager.jsx","webpack:///./src/components/Weather/Weather.jsx","webpack:///./src/components/CitySearch/CitySearch.jsx","webpack:///./src/components/Notes/Notes.jsx","webpack:///./src/views/City/City.jsx","webpack:///./src/views/WeatherError/WeatherError.jsx","webpack:///./src/pages/Home/Home.jsx","webpack:///./src/pages/CityDetails/CityDetails.jsx","webpack:///./src/Main.jsx","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","config","require","uniqueKeys","array","Array","from","Set","history","createBrowserHistory","navigateTo","city","navigate","namespaces","weather","user","notes","Disk","createDisk","cityDisk","namespace","weatherDisk","useDisk","createDiskHook","useWeatherDisk","useUserDisk","useNoteDisk","request","url","fetch","then","response","json","serialize","obj","keys","map","encodeURIComponent","toString","join","weatherStackRequest","parameters","weatherstack","baseUrl","access_key","apiKey","Service","query","cities","results","error","Promise","reject","current","location","country","region","localtime_epoch","time","Date","getTimezoneOffset","queryVar","useWeather","setData","update","useEffect","useWeatherUpdater","updateInterval","setInterval","visibleCities","forEach","navigator","onLine","updateWeatherInfo","updateWeatherIntervalSecs","clearInterval","Time","date","getDate","getMonth","padStart","getFullYear","getHours","getMinutes","split","className","icon","Search","forwardRef","ref","func","wait","timeout","disabled","placeholder","search","renderer","children","onSelect","useState","setResults","setQuery","loading","setLoading","isFocused","setFocused","debouncedSearch","searchQuery","context","this","clearTimeout","args","setTimeout","clearSearch","focusOut","clear","select","classNames","on","onClick","autoComplete","spellCheck","type","onChange","nativeEvent","keyCode","target","trim","onKeyUp","blur","onFocus","tabIndex","hasResult","item","Icon","props","GeoLocation","isAvailable","geolocation","resolve","getCurrentPosition","coords","lat","latitude","lng","longitude","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","UserLocation","onLocation","e","AFavouritesManager","favourites","setFavourites","has","indexOf","onIconClick","stopPropagation","filter","remove","add","list","Proxy","isFavourite","Weather","wind_speed","temperature","precip","humidity","wind_degree","pressure","visibility","weather_descriptions","weather_icons","description","src","alt","Math","round","style","transform","CitySearch","isOnline","useOnline","Favourites","userCity","setUserCity","searchRef","useRef","sort","Notes","setNotes","City","iconStyle","backgroundImage","WeatherError","Home","initialCities","cityList","setCityList","removeFromList","CityDetails","state","Main","pattern","callback","Component","matches","href","match","appName","exact","path","component","params","createElement","render","document","getElementById","addEventListener","serviceWorker","register","registration","console","log","registrationError"],"mappings":"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","file":"main.37b6777d7a576e50679a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([46,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { useEffect, createElement } from \"react\"\nimport { createBrowserHistory } from \"history\"\n\nexport const config = require(\"../../config/project.json\")\n\n\n/**\n * @typedef {(...args?: any[]) => void} Func\n * \n * @method debounce\n * @description debounces function with given time\n * @param {Func}  func\n * @param {number} wait\n * @return {Func}\n */\nexport function debounce(func, wait) {\n  var timeout;\n  return function (...args) {\n    const context = this\n    clearTimeout(timeout)\n    timeout = setTimeout((args) => func.apply(context, args), wait, args)\n  }\n}\n\n\n/**\n * @method uniqueKeys\n * @description removes repeated keys in array\n * @param {T[]} array\n * @return {T[]} \n */\nexport const uniqueKeys = (array) => Array.from(new Set(array))\n\n\n/**\n * @method timeString\n * @description converts date to time string\n * @param {Date} date\n * @return {string}\n */\nexport const timeString = (date) =>\n  [date.getDate(), date.getMonth() + 1]\n    .map(i => (i + \"\").padStart(2, 0)).join(\".\") + \".\"\n  + date.getFullYear()\n  + \" \" + [date.getHours(), date.getMinutes()]\n    .map(i => (i + \"\").padStart(2, 0)).join(\":\")\n\n\n/** \n * @method useRedirect\n * @description calls callback if location matches pattern\n * @param {RegExp} pattern\n * @param {(...args: string[]) => void} callback\n * @return {void}\n */\nexport const useRedirect = (pattern, callback) => {\n  useEffect(() => {\n    const matches = window.location.href.match(pattern)\n    matches && callback(...matches.slice(1))\n  }, [])\n}\n\nexport const history = createBrowserHistory()\n\nexport const navigateTo = (city = \"\") => () => {\n  history.push(\"/\" + city)\n}\nexport const navigate = (city = \"\") => {\n  history.push(\"/\" + city)\n}\nexport const withParamsDecorator = (Component) =>\n  ({ match: { params } }) =>\n    createElement(Component, params)\n","import { Disk as createDisk, useDisk as createDiskHook } from \"@otag/disk\"\nimport { config } from \"@utils\"\n\nconst { city, weather, user, notes } = config.namespaces || {}\n\nexport const Disk = createDisk()\nexport const cityDisk = createDisk({ namespace: city })\nexport const weatherDisk = createDisk({ namespace: weather })\n\nexport const useDisk = createDiskHook(Disk)\nexport const useWeatherDisk = createDiskHook(weatherDisk)\nexport const useUserDisk = createDiskHook(createDisk({ namespace: user }))\nexport const useNoteDisk = createDiskHook(createDisk({ namespace: notes }))\n","import { config } from \"@utils\"\nconst request = (url) =>\n  fetch(url)\n    .then(response => response.json())\n\nconst serialize = (obj) =>\n  Object.keys(obj)\n    .map(i => i + \"=\" + encodeURIComponent(obj[i].toString())).join(\"&\")\n\nexport const weatherStackRequest = (url, parameters = {}) =>\n  request(\n    config.weatherstack.baseUrl + url +\n    \"?\" + serialize({ access_key: config.weatherstack.apiKey, ...parameters }))","import { uniqueKeys } from \"@utils\"\nimport { weatherStackRequest } from \"./utils\"\nimport { cityDisk } from \"./disk\"\n\nexport const Service = {\n  /**\n   * @param {string} query \n   * @description search cities\n   * @return {({id: number, name: string, country: string })[]}\n   */\n  searchCity: (query) =>\n    weatherStackRequest(\"autocomplete\", { query })\n      .then(({ results: cities }) =>\n        uniqueKeys(cities\n          .map(({ name }) => name))),\n  /**\n  * @param {string[]} cityList\n  * @description weather information of city\n  * @return {{wind: number, temperature: string, pressure: string, humidty: number }}\n  */\n  weatherInfo: (city) =>\n    weatherStackRequest(\"current\", { query: city })\n      .then((response) => {\n        if (response.error) {\n          return Promise.reject(response)\n        }\n        const { current: weather, location: { country, region, localtime_epoch } } = response\n        cityDisk[city] = {\n          region,\n          country,\n          time: localtime_epoch + (new Date()).getTimezoneOffset() * 60\n        }\n        return weather\n      })\n}","import { useEffect } from \"react\"\nimport { weatherDisk, Disk, useWeatherDisk } from \"./disk\"\nimport { Service } from \"./Service\"\nimport { config } from \"@utils\"\n\nexport const updateWeatherInfo = (city) =>\n  Service.weatherInfo(city)\n    .then((data) => weatherDisk[city] = data)\n\nexport const useWeather = (city) => {\n  const [data, setData] = useWeatherDisk(city)\n\n  const update = () =>\n    Service.weatherInfo(city)\n      .then(setData)\n      .catch(({ error }) => setData({ error }))\n\n  useEffect(() => {\n    if (!weatherDisk[city]) { update() }\n  }, [city])\n\n  return [data, update]\n}\n\nexport const useWeatherUpdater = () =>\n  useEffect(() => {\n    const updateInterval = setInterval(() =>\n      Disk.visibleCities.forEach((city) =>\n        navigator.onLine && updateWeatherInfo(city))\n      , (config.updateWeatherIntervalSecs || 60) * 1000)\n\n    return () => {\n      clearInterval(updateInterval)\n    }\n  }, [])","import React, { useState, Fragment, forwardRef } from \"react\"\nimport classNames from \"classnames\"\nimport { Icon, UserLocation } from \"@components\"\nimport { debounce } from \"@utils\"\nimport \"./Search.sass\"\n\n/**\n * @description\n *   Search Component provides interface to search items.\n * \n * @param {{\n *    renderer: (result: string) => JSX.Element\n *    onSelect: (result: string) => void\n *    search: (query: string) => Promise<string[]>\n *    className?: string\n *    disabled?: boolen\n *    placeholder?: boolen\n *    children?: JSX.Element\n * }} ISearchProps\n * \n */\n/* DIRTY Code\n  this variable(queryVar) holds last query to ensure processing results of it\n  cannot using variable \"query\" for this because the nature of useState\n  change if you find better method\n */\nlet queryVar\nexport const Search = forwardRef(({ className, disabled, placeholder, search, renderer, children, onSelect }, ref) => {\n  const [results, setResults] = useState([])\n  const [query, setQuery] = useState(\"\")\n  const [{ error, loading }, setLoading] = useState({ error: false, loading: false })\n  const [isFocused, setFocused] = useState(false)\n  // debounced API call \n  const debouncedSearch = debounce(searchQuery => {\n    setLoading({ error: false, loading: true })\n    return search(searchQuery)\n      .then((data) => {\n        if (searchQuery === queryVar) {\n          isFocused && setResults(data)\n          setLoading({ error: false, loading: false })\n        }\n      })\n      .catch(() => {\n        if (searchQuery === queryVar) {\n          setResults([])\n          setLoading({ error: true, loading: false })\n        }\n      })\n  }, 200)\n\n  const clearSearch = () => {\n    (query !== \"\") && setQuery(\"\")\n    setResults([])\n    setLoading({ error: false, loading: false })\n    focusOut()\n  }\n  ref.current = { clear: clearSearch }\n  const onInputChange = ({ nativeEvent: { keyCode }, target: { value } }) => {\n    (query !== value) && setQuery(queryVar = value);\n    if (value === \"\") {\n      setResults([])\n    } else {\n      (value.trim().length > 2) && debouncedSearch(value.trim())\n    }\n\n  }\n  const onKeyUp = ({ nativeEvent: { keyCode }, target }) => {\n\n    if (keyCode === 27) {\n      clearSearch()\n      target.blur()\n      return\n    }\n    if (keyCode === 13 && results.length) {\n      select(results[0])()\n      return\n    }\n  }\n\n  const select = (result) => () => {\n    clearSearch()\n    onSelect(result)\n  }\n  const focus = () => setFocused(true)\n  const focusOut = () => setFocused(false)\n  return <Fragment>\n    <div className={classNames(\"backdrop\", { on: isFocused })} onClick={clearSearch} />\n    <div className=\"SearchContainer\">\n      <div className={classNames(className, 'Search', { disabled, loading, error, on: isFocused })}>\n        <div className=\"Input\">\n          <Icon icon=\"search\" />\n          <input\n            autoComplete=\"off\"\n            spellCheck=\"false\"\n            type=\"text\"\n            placeholder={placeholder}\n            value={query}\n            onChange={onInputChange}\n            onKeyUp={onKeyUp}\n            onFocus={focus}\n            tabIndex={1} />\n          {children}\n        </div>\n        <div className={classNames(\"Results\", { hasResult: results.length })}>\n          {\n            results.map((result, key) =>\n              <div key={key} className=\"Result\" tabIndex={1} item={result} onClick={select(result)}>\n                {renderer(result)}\n              </div>\n            )\n          }\n        </div>\n      </div>\n    </div>\n  </Fragment>\n})\n","import React, { useEffect } from \"react\"\nimport { timeString } from \"@utils\"\nimport { Icon } from \"@components\"\n\nexport const Time = ({ value: time }) => {\n  const value = timeString(new Date(time * 1000)).split(\" \")\n  return <div className=\"time\">\n    <a className=\"date\">{value[0]}</a> {value[1]}\n    <Icon icon=\"clock\" />\n  </div>\n}","import React from \"react\"\nimport classNames from \"classnames\"\nexport const Icon = ({ icon, ...props }) => {\n  props.className = classNames(\"fa fa-\" + icon, props.className)\n  return <i {...props} />\n}\n","// html5 geolocation API\nexport const GeoLocation = {\n  isAvailable: navigator.geolocation,\n  // () => Promise<{lat, lng}>\n  request: () => new Promise((resolve, reject) => {\n    const onSuccess = ({ coords: { latitude: lat, longitude: lng } }) =>\n      resolve({ lat, lng })\n\n    const onError = (error) => {\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          reject(\"You should give permission to us to get your location.\")\n          break;\n        case error.POSITION_UNAVAILABLE:\n          reject(\"Unfortunatelly, location information is unavailable.\")\n          break;\n        case error.TIMEOUT:\n          reject(\"Unfortunatelly, location request timed out.\")\n          break;\n        case error.UNKNOWN_ERROR:\n          reject(\"An unknown error occurred while getting your location.\")\n          break;\n      }\n    }\n\n    GeoLocation.isAvailable\n      ? navigator.geolocation.getCurrentPosition(onSuccess, onError)\n      : reject(\"Location is not supported\")\n  })\n}","import React, { useState } from \"react\"\nimport { GeoLocation } from \"./GeoLocation\"\nimport classNames from \"classnames\"\nimport { Icon } from \"@components\"\nimport \"./UserLocation.sass\"\nexport const UserLocation = ({ onLocation }) => {\n  const [{ loading, error }, setLoading] = useState({ loading: false, error: false })\n\n  const requestLocation = () => {\n    setLoading({ loading: true, error: false })\n    GeoLocation.request()\n      .then((location) => {\n        onLocation(location)\n        setLoading({ loading: false, error: false })\n      })\n      .catch(e => setLoading({ loading: false, error: true }))\n  }\n  return <Icon\n    icon=\"compass\"\n    className={classNames(\"UserLocation\", { loading, error })}\n    onClick={requestLocation}\n    disabled={!GeoLocation.isAvailable}\n  />\n}","import React from \"react\"\nimport classNames from \"classnames\"\nimport { Icon } from \"@components\"\nimport { stopPropagation, config } from \"@utils\"\nimport { useUserDisk } from \"@data\"\nimport \"./FavouriteIcon.sass\"\n\n/** \n * @description\n *   (Abstract Component)FavouritesManager provides Favourite Icon and Favourites List.\n * \n * @return {{\n *   list: string[], \n *   icon: {[itemName: string]: JSX.Element}\n * }}\n */\nexport const AFavouritesManager = (namespace) => {\n  const [favourites, setFavourites] = useUserDisk([config.namespaces.favourites, namespace].join(\"/\"), [])\n\n  const has = (item) => favourites.indexOf(item) > -1\n  const add = (item) => setFavourites([...favourites, item])\n  const remove = (item) => setFavourites(favourites.filter(i => i !== item))\n\n  // switch favourite status\n  const onIconClick = (item) =>\n    (e) => {\n      e.stopPropagation()\n      has(item)\n        ? remove(item)\n        : add(item)\n    }\n\n  return {\n    list: favourites,\n    icon: new Proxy({}, {\n      get: (target, key) =>\n        <Icon\n          icon=\"star\"\n          className={classNames(\"Fav\", { isFavourite: has(key) })}\n          onClick={onIconClick(key)} />\n    })\n  }\n}","import React, { useState, useEffect } from \"react\"\nimport classnames from \"classnames\"\nimport { Icon } from \"@components\"\nimport \"./Weather.sass\"\n\nexport const Weather = ({ data }) => {\n  const {\n    wind_speed,\n    temperature,\n    precip,\n    humidity,\n    wind_degree,\n    pressure,\n    visibility,\n    weather_descriptions,\n    weather_icons\n  } = data || {}\n\n  const icon = weather_icons ? weather_icons[0] : null\n  const description = weather_descriptions ? weather_descriptions[0] : null\n\n  return <div className=\"Weather\">\n    <h2> Current Weather </h2>\n    <div className=\"description\"> <img src={icon} alt={description} /> <a>{description}</a></div>\n    <div className=\"Cards\">\n      <div className=\"temp Card\">\n        <h3><Icon icon=\"thermometer-three-quarters\" /> Temperature </h3>\n        <div className=\"value\"> <b>{Math.round(temperature || 0)}</b>°C </div>\n      </div>\n      <div className=\"wind Card\">\n        <h3><Icon icon=\"wind\" /><div className=\"arrow\" style={{ transform: \"rotate(\" + (wind_speed && wind_degree || 0) + \"deg)\" }} /> Wind </h3>\n        <div className=\"value\"><b>{wind_speed || 0}</b> m/s</div>\n      </div>\n      <div className=\"humidity Card\">\n        <h3><Icon icon=\"tint\" /> Humidity</h3>\n        <div className=\"value\"> <b>%{humidity || 0}</b></div>\n      </div>\n      <div className=\"pressure Card\">\n        <h3><Icon icon=\"tachometer-alt\" /> Pressure </h3>\n        <div className=\"value\"> <b>{pressure || 0}</b> hPa </div>\n      </div>\n      <div className=\"visibility Card\">\n        <h3><Icon icon=\"eye\" /> Visibility </h3>\n        <div className=\"value\"> <b>%{visibility || 0}</b> </div>\n      </div>\n      <div className=\"precip Card\">\n        <h3><Icon icon=\"umbrella\" /> Precipitation </h3>\n        <div className=\"value\"> <b>%{precip || 0}</b> </div>\n      </div>\n    </div>\n  </div>\n}","import React, { useState, useRef, Fragment } from \"react\"\nimport classNames from \"classnames\"\nimport useOnline from \"@rooks/use-online\"\nimport { UserLocation, AFavouritesManager, Search } from \"@components\"\nimport { Service, useUserDisk } from \"@data\"\nimport { navigate } from \"@utils\"\nimport \"./CitySearch.sass\"\n/** \n * @description \n *   CitySearch Component allows user to search and select cities to look up for weather details. \n *   It encapsulates Search component\n * @requirement 4\n */\n\nexport const CitySearch = () => {\n  const isOnline = useOnline()\n  const Favourites = AFavouritesManager(\"cities\")\n  const [userCity, setUserCity] = useUserDisk(\"city\")\n  const searchRef = useRef()\n  const onLocation = ({ lat, lng }) =>\n    Service.searchCity(lat + \",\" + lng)\n      .then((results) => {\n        setUserCity(results[0])\n        searchRef.current && searchRef.current.clear()\n        results.length && navigate(results[0])\n      })\n  const navigateToUserCity = () => {\n    searchRef.current && searchRef.current.clear()\n    navigate(userCity)\n  }\n  const focus = () => setFocused(true)\n  const focusOut = () => setFocused(false)\n  const renderer = ((city) =>\n    <Fragment>\n      {Favourites.icon[city]}\n      {city}\n    </Fragment>\n  )\n  const search = (query) => Service.searchCity(query).then((results) => results.sort())\n  return <Search\n    ref={searchRef}\n    renderer={renderer}\n    placeholder={isOnline ? \"Search cities...\" : \"No internet connection. Go online to search cities...\"}\n    search={search}\n    onSelect={navigate}\n    disabled={!isOnline}\n  >\n    {userCity && <a className=\"userCity\" tabIndex={1} onClick={navigateToUserCity}> {userCity}</a>}\n    {isOnline && <UserLocation onLocation={onLocation} />}\n  </Search>\n}\n","import React from \"react\"\nimport { useNoteDisk } from \"@data\"\nimport { config } from \"@utils\"\nimport \"./Notes.sass\"\n\n/**\n * @description Notes component provides interface to takes notes about items\n * @param {{item: string}} INotesProps\n */\nexport const Notes = ({ item }) => {\n  const [notes, setNotes] = useNoteDisk(item, \"\")\n\n  const onChange = ({ target: { value } }) => setNotes(value)\n  return <div className=\"Notes Card\">\n    <h3> Notes </h3>\n    <textarea value={notes || \"\"} onChange={onChange} />\n\n  </div>\n}","import React, { useState, useEffect } from \"react\"\nimport { useWeather } from \"@data\"\nimport { navigateTo } from \"@utils\"\nimport \"./City.sass\"\n\nexport const City = ({ name, icon }) => {\n  const [weather] = useWeather(name)\n\n  const iconStyle = weather && { backgroundImage: \"url(\" + weather.weather_icons[0] + \")\" }\n  return <div className=\"City\" city={name} onClick={navigateTo(name)}>\n    <h3>\n      <a> {name} </a>\n      {icon}\n    </h3>\n    {\n      <div className=\"CityWeather\">\n        <div className=\"icon\" style={iconStyle} />\n        {weather && <div className=\"temperature\"> {weather.temperature}<a>°C</a> </div>}\n      </div>\n    }\n  </div>\n}","import React from \"react\"\nexport const WeatherError = ({ city }) =>\n  <div className=\"WeatherError\">\n    <h1>An error occured</h1>\n    <pre>Requested city \"{city}\" may not exist.</pre>\n  </div>","import React from \"react\"\nimport { config, uniqueKeys } from \"@utils\"\nimport { useDisk, Disk } from \"@data\"\nimport { AFavouritesManager, Icon } from \"@components\"\nimport { City } from \"@views\"\n\nimport \"./Home.sass\"\n\nexport const Home = () => {\n  const Favourites = AFavouritesManager(\"cities\")\n  const [cityList, setCityList] = useDisk(\"cityList\", config.initialCities)\n\n  Disk.visibleCities = uniqueKeys([...cityList, ...Favourites.list])\n\n  const removeFromList = (city) => (e) => {\n    e.stopPropagation()\n    setCityList(cityList.filter(i => i != city))\n  }\n  return <div className=\"Home\">\n    {\n      !!Favourites.list.length\n      && <div className=\"Favourites\">\n        <h2> Favourites </h2>\n        {\n          Favourites.list\n            .sort()\n            .map((city) =>\n              <City key={city} name={city} icon={Favourites.icon[city]} />)\n        }\n      </div>\n    }\n    <div className=\"InitialCities\">\n      {\n        cityList\n          .filter(city => Favourites.list.indexOf(city) < 0)\n          .sort()\n          .map((city) =>\n            <City\n              key={city}\n              name={city}\n              icon={<Icon icon=\"times\" className=\"remove\" onClick={removeFromList(city)} />}\n            />)\n      }\n    </div>\n  </div>\n}","import React from \"react\"\nimport classNames from \"classnames\"\nimport { Weather, Notes, Icon, AFavouritesManager, Time } from \"@components\"\nimport { Disk, useWeather, cityDisk } from \"@data\"\nimport { WeatherError } from \"@views\"\nimport \"./CityDetails.sass\"\n\n/**\n * @description City Details Page shows name, country, notes and weather forecest of city\n * @param {{city: string}} ICityDetailsProps\n */\n\nexport const CityDetails = ({ city }) => {\n  const [weather] = useWeather(city)\n  const Favourites = AFavouritesManager(\"cities\")\n\n  const loading = !weather\n  if (weather && weather.error) {\n    return <WeatherError city={city} />\n  }\n  const { country, time, region } = cityDisk[city] || {}\n  Disk.visibleCities = [city]\n\n  const state = country === \"United States of America\" ? \", \" + region : null\n  return <div className={classNames(\"CityDetails\", { loading })}>\n    <h1>\n      <a>{city}{state}</a>\n      {country && <a className=\"country\">({country})</a>}\n      {time && <Time value={time} />}\n      {Favourites.icon[city]}\n    </h1>\n    <Weather data={weather} />\n    <Notes item={city} />\n  </div >\n}","import React from \"react\"\nimport { Route, Router, Switch } from \"react-router-dom\"\nimport { Home, CityDetails } from \"@pages\"\nimport { CitySearch } from \"@components\"\nimport { config, useRedirect, navigate, navigateTo, history, withParamsDecorator } from \"@utils\"\nimport { useWeatherUpdater } from \"@data\"\nimport \"./Main.sass\"\n\n\n// Shell of the application\nexport const Main = () => {\n  useRedirect(/\\?city=([a-zA-Z]+)/, navigate)\n  useWeatherUpdater()\n  return <Router history={history}>\n    <div className=\"Header\">\n      <div className=\"appName\" onClick={navigateTo(\"\")}>{config.appName}</div>\n      <CitySearch />\n    </div>\n\n    <div className=\"Page\">\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/:city\" component={withParamsDecorator(CityDetails)} />\n      </Switch>\n    </div>\n  </Router>\n}","import { createElement } from 'react'\nimport { render } from 'react-dom'\nimport { Main } from './Main'\n\nrender(\n  createElement(Main),\n  document.getElementById('root')\n)\n// Check if hot reloading is enable. If it is, changes won't reload the page.\n// This is related to webpack-dev-server and works on development only.\nif (module.hot) {\n  module.hot.accept();\n}\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', () => {\n    navigator.serviceWorker\n      .register('/service-worker.js')\n      .then(registration => {\n        console.log('SW registered: ', registration)\n      }).catch(registrationError => {\n        console.log('SW registration failed: ', registrationError)\n      });\n  });\n}"],"sourceRoot":""}